# ================================================================= #
#                          C++ SUPPORT IN ZEPHYR                    #
# ================================================================= #
# C++ support for the application
CONFIG_CPP=y

# Require complete C++ standard library
# Indicates that a full C++ standard library is required, either by a subsystem or an application. This will also include a full C library implementation.
CONFIG_REQUIRES_FULL_LIBCPP=y

# Choosing a C++ Standard
CONFIG_STD_CPP20=y


# ================================================================= #
#                       DEBUGGING                                   #
# ================================================================= #
# Global switch for the logger, when turned off log calls will not be compiled in.
CONFIG_LOG=y

# When enabled log is processed in the context of the call. It impacts performance of the system since time consuming operations are performed in the context of the log entry (e.g. high priority interrupt).Logger backends must support exclusive access to work flawlessly in that mode because one log operation can be interrupted by another one in the higher priority context.
CONFIG_LOG_MODE_IMMEDIATE=y



# ================================================================= #
#                       DRIVER                                      #
# ================================================================= #
# Include LED strip drivers in the system configuration.
CONFIG_LED_STRIP=y

# GPIO
CONFIG_GPIO=y

# Disable GPIO
CONFIG_INPUT_GPIO_KEYS=n



# ================================================================= #
#                       NETWORK                                     #
# ================================================================= #
# Enable Wifi
CONFIG_WIFI=y

# Enable Wi-Fi Network Manager
CONFIG_WIFI_NM=y

# Enable the auto init of the wifi
CONFIG_NET_CONFIG_AUTO_INIT=n

# Enable the network manager, which allows us to monitor the connection activity
CONFIG_NET_CONNECTION_MANAGER=y

# Allow the device to receive IP address automatically, via DHCPv4 algorithm, from the WiFi its connect
CONFIG_NET_DHCPV4=y

# Disable the device to give IP address for other devices because it doesn't operate in AP mode
CONFIG_NET_DHCPV4_SERVER=n

# Enable IPv4 support and set the maximum no. IPv4 address it can have. If this is enabled then the device is able to send and receive IPv4 network packets.
CONFIG_NET_IPV4=y
CONFIG_NET_IF_MAX_IPV4_COUNT=1

# Disable IPv6 support as we will focus on a simple solution with IPv4 first,
CONFIG_NET_IPV6=n

# This enables the foundational Layer 2 (Data Link Layer) support for any "Ethernet-like" network.
CONFIG_NET_L2_ETHERNET=y

# This enables the Wi-Fi-specific Layer 2 management services
CONFIG_NET_L2_WIFI_MGMT=y

# This is the main switch that enables the Network Management subsystem. It's the high-level API for controlling network interfaces.
CONFIG_NET_MGMT=y

# This specifically enables the event-based callback system.
CONFIG_NET_MGMT_EVENT=y

# This allows extra data (info) to be attached to an event.
CONFIG_NET_MGMT_EVENT_INFO=y

# It creates a queue that can hold up to 10 events. If network events happen faster than your application can process them, this queue holds them. If the queue fills up, new events are dropped.
CONFIG_NET_MGMT_EVENT_QUEUE_SIZE=10

# This is a memory setting. The network event system runs in its own background thread. This allocates 4096 bytes (4KB) of stack memory for that thread. This helps prevent stack overflows if your event handler function is complex.
CONFIG_NET_MGMT_EVENT_STACK_SIZE=4096

# These allocate a memory pool for 16 receive (RX) packets and 16 transmit (TX) packages
CONFIG_NET_PKT_RX_COUNT=16
CONFIG_NET_PKT_TX_COUNT=16

# How many network buffers are allocated for receiving/sending data. Each net_buf contains a small header and either a fixed or variable length data buffer
CONFIG_NET_BUF_RX_COUNT=64
CONFIG_NET_BUF_TX_COUNT=64

# This is the master switch. It enables the entire Zephyr networking stack (TCP, UDP, IPv4/IPv6, etc.)
CONFIG_NETWORKING=y

# Provide BSD Sockets like API on top of native Zephyr networking API.
CONFIG_NET_SOCKETS=y

# The socket service can monitor multiple sockets and save memory by only having one thread listening socket data. If data is received in the monitored socket, a user supplied work is called. Note that you need to set CONFIG_ZVFS_POLL_MAX high enough so that enough sockets entries can be serviced. This depends on system needs as multiple services can be activated at the same time depending on network configuration.
CONFIG_NET_SOCKETS_SERVICE=y

# This allocates 4096 bytes (4KB) of stack memory for the Sockets Service thread. Sockets are the API your application uses to interact with TCP and UDP
CONFIG_NET_SOCKETS_SERVICE_STACK_SIZE=4096

# This option enables the required POSIX System Interfaces
CONFIG_POSIX_API=y

# This enables/disable the Transmission Control Protocol (TCP). This is a reliable, connection-oriented protocol. You need this for services that require guaranteed data delivery.
CONFIG_NET_TCP=y

# This enables/disable the User Datagram Protocol (UDP). This is a fast, connectionless protocol that does not guarantee delivery
CONFIG_NET_UDP=y

# If enabled, then it is possible to fine-tune network packet pool for each context when sending network data. If this setting is enabled, then you should define the context pools in your application using NET_PKT_TX_POOL_DEFINE() and NET_PKT_DATA_POOL_DEFINE() macros and tie these pools to desired context using the net_context_setup_pools() function.
CONFIG_NET_CONTEXT_NET_PKT_POOL=y

# LOG Configuration
# [TODO]: Clean this after the device run in stably
CONFIG_NET_LOG=y

# Enable ARP support. This is necessary on hardware that requires it to get IPv4 working (like Ethernet devices).
CONFIG_NET_ARP=y

# If set, custom callbacks for arbitrary DHCP options can be added. These can be used to support otherwise DHCP options not used by the rest of the system.
CONFIG_NET_DHCPV4_OPTION_CALLBACKS=y





# ================================================================= #
#                       OTHER                                       #
# ================================================================= #
# This is for the DHCPV4 and WIFI
CONFIG_TEST_RANDOM_GENERATOR=y



# ================================================================= #
#                       MEMORY                                      #
# ================================================================= #
# This option instructs the kernel to initialize stack areas with a known value (0xaa) before they are first used, so that the high water mark can be easily determined. This applies to the stack areas for threads, as well as to the interrupt stack.
CONFIG_INIT_STACKS=y

# Size of stack for initialization and main thread
CONFIG_MAIN_STACK_SIZE=2048



# ================================================================= #
#                       CUSTOMIZED                                  #
# ================================================================= #
CONFIG_USING_UDP=n
CONFIG_USING_TCP=y
